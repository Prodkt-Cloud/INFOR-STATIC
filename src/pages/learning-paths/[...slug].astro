---
export async function getStaticPaths() {
  const response = await fetch('http://127.0.0.1:1337/api/learning-paths?populate=*');
    const { data } = await response.json();

    if (data && Array.isArray(data)) {
    return data.map((learningPath) => {
      return {
        params: { slug: learningPath.attributes.slug },
        props: { learningPath },
      };
    });
  } else {
    console.error('No data found');
    return [];
  }
}

const { learningPath } = Astro.props;
---

<a href="{`http://127.0.0.1:1337/${learningPath.attributes.slug}`}"> {learningPath.attributes.title} </a>